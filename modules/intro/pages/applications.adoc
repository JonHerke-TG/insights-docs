= Applications
:experimental:

Applications are the backbone of TigerGraph Insights. Each application has pages, which themselves have xref:widgets:index.adoc[] that display information from a TigerGraph instance.

You can think of an application as a binder in a physical presentation. Binders have sections, which correspond to pages in Insights, and widgets are more advanced, interactive versions of charts and figures in a presentation.

== Create an application

You can create a maximum of 150 applications per TigerGraph instance.

On the main TigerGraph Insights page, click btn:[+ New Application].

image::new-application-button.png[]

In the next window, choose a name, icon, and default graph to pull data from.
All of these options can be changed later as well.

image::new-application.png[]

If you don't see any graphs in the dropdown list, either there are no graphs on your instance or you do not have permissions to view any graphs.
Try creating a new graph using xref:gui:graphstudio:overview.adoc[GraphStudio] first, or contact an administrator to grant you the correct permissions.

Your new application will appear on the Insights main page under My Applications. If other users on the same TigerGraph instance have created their own applications, they will be listed under "Other Applications."

=== Preview an application

Preview mode is designed to show off the use of your application in a presentation.
In preview mode, the UI is minimized and all pages and widgets are locked with no changes possible.

Save the application and press the play button to enter preview mode.
The preview button is inactive (greyed out) until the application is saved.

=== Modify an application

You can edit, duplicate, and delete applications from the same main page by clicking the three-dot menu.

Click btn:[Settings] to update the name, icon, and default graph just as if you were creating the application for the first time.
Duplicating an application is useful for quickly trying out new options while still being able to refer back to the previoous configuration.

=== Share an application

==== Share via login
Click on btn:[Share] in the three-dot menu to bring up the Share window.

image::share-application.png[]

==== Share via access token

Access tokens may be used to share application widgets with other users without login into insights.

===== Creating database account

You will need a separate database account to generate an access token for Insights.
Ensure that you grant minimal privileges to this account.

Please check the xref:tigergraph-server:reference:list-of-privileges.adoc[].

TigerGraph provides two types of queries: Installed and Interpret.

Interpret query is the default query type, unless you explicitly convert it to an installed query.

==== Write query permission is required to run interpret queries.

`READ_DATA` privilege is required for any type of query, and you can grant it at various levels based on your query.
(Details are provided in xref:tigergraph-server:user-access:user-management.adoc[local privileges])

`READ_SCHEMA READ_QUERY` is also needed for any type of query.

.The minimal required privileges for different types of queries:
[cols='2']
|===
| Query Type | Minimal Required Privileges

| Installed Query | READ_DATA READ_SCHEMA READ_QUERY
| Interpret Query | READ_DATA READ_SCHEMA READ_QUERY WRITE_QUERY
|===

==== (Optional) Config nginx

This is only needed if you want to embed insights into third party webpage.

Go to admin portal to config `nginx`.

[source, console]
Content-Security-Policy: frame-ancestors 'self' https://www.thirdparty.com;

==== Generating access token

Use the account you just created to generate an access token.

Go to `Application > Settings > Security` to create the access token.

At the security page, we also provide a standalone application URL based on the access token.

==== Obtaining widget sharing link

You can go to `Widget > Share` to obtain the sharing link.

=== Backup and restore

Inside the application menu, use another three-dot menu in the upper-right near the Save and Run icons.

image::download-upload-application.png[]

These buttons export or import the application panel in JSON format. If you delete an application, you cannot recover it from the TigerGraph system.
You must use the Download and Upload features to create and restore any backups.

